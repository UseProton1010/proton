<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proton</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body {
            background-color: #1b1b2f;
            font-family: 'Poppins', sans-serif;
            color: #ffffff;
            margin: 0;
            padding: 20px;
        }
        h1 {
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 20px;
        }
        .game-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
        }
        .game-card {
            background-color: #162447;
            border-radius: 8px;
            padding: 10px;
            text-align: center;
            width: 150px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
            transition: transform 0.2s;
            cursor: pointer;
        }
        .game-card:hover {
            transform: scale(1.05);
        }
        .game-icon {
            width: 100%;
            height: auto;
        }
        .game-name {
            margin-top: 10px;
            font-size: 1.2em;
        }
    </style>
</head>
<body>
    <h1>Last Played</h1>
    <div class="game-container" id="lastPlayedContainer"></div>

    <h1>All Games</h1>
    <div class="game-container" id="gameContainer"></div>

    <script>
        const game = [
            { "name": "Yohoho.io", "icon": "/assets/img/yohoho.jpeg", "path": "/games/Yohoho/index.html", "error": "false" },
            { "name": "Monkey Mart", "icon": "/assets/img/monkey-mart.png", "path": "/games/Monkey-Mart/monkey-mart/index.html", "error": "false" },
            { "name": "DriveMad", "icon": "/assets/img/DriveMad.jpeg", "path": "/games/DriveMad/index.html", "error": "false" },
            { "name": "2048", "icon": "/assets/img/2048.png", "path": "/games/2048/index.html", "error": "false" },
            { "name": "Awesome Tanks", "icon": "/assets/img/awesome-tanks.jpeg", "path": "/games/awesome-tanks/index.html", "error": "false" },
            { "name": "Awesome Tanks 2", "icon": "/assets/img/awesome-tanks2.jpeg", "path": "/games/awesome-tanks2/index.html", "error": "false" },
            { "name": "Bitlife", "icon": "/assets/img/bitlife.png", "path": "/games/Bitlife/index.html", "error": "false" },
            { "name": "Subway Surfers", "icon": "/assets/img/splash.jpeg", "path": "/games/Subway-Surfers/index.html", "error": "false" },
            { "name": "Subway Surfers New York", "icon": "/assets/img/SSNY.jpeg", "path": "/games/subway-surfers-ny/index.html", "error": "false" },
            { "name": "tanuki sunset", "icon": "/assets/img/TS.png", "path": "/games/tanuki-sunset/index.html", "error": "false" },
            { "name": "Core Ball", "icon": "/assets/img/CB.jpeg", "path": "/games/core-ball/index.html", "error": "false" },
            { "name": "Doge Miner", "icon": "/assets/img/DM.png", "path": "/games/Doge-Miner/index.html", "error": "false" },
            { "name": "Tiny Fishing", "icon": "/assets/img/TF.png", "path": "/games/tiny-fishing/index.html", "error": "false" },
            { "name": "Dift Boss", "icon": "/assets/img/drift-boss.png", "path": "/games/drift-boss/index.html", "error": "false" },
            { "name": "Cookie Clicker", "icon": "/assets/img/CC.JPG", "path": "/games/Cookie-Clicker/index.html", "error": "false" },
            { "name": "Idle Breakout", "icon": "/assets/img/IB.JPG", "path": "/games/Idle-Breakout/index.html", "error": "false" },
            { "name": "CSGO Clicker", "icon": "/assets/img/CSGO.png", "path": "/games/CSGO-Clicker/index.html", "error": "false" },
            { "name": "Swoop", "icon": "/assets/img/Swoop.jpeg", "path": "/games/Swoop/index.html", "error": "false" },
            { "name": "Color Switch", "icon": "/assets/img/CS.jpeg", "path": "/games/Color-Switch/index.html", "error": "false" },
            { "name": "Dunes", "icon": "/assets/img/Dunes.jpeg", "path": "/games/Dunes/index.html", "error": "false" },
            { "name": "OvO", "icon": "/assets/img/OvO.PNG", "link": "https://www.coolmathgames.com/0-ovo/play", "error": "false" },
            { "name": "Edge Surf", "icon": "/assets/img/ES.JPG", "path": "/games/edge-surf/index.html", "error": "false" },
            { "name": "Champion Island", "icon": "/assets/img/CI.PNG", "path": "/games/champion-island/index.html", "error": "false" },
            { "name": "Stickman Hook", "icon": "/assets/img/SH.jpeg", "path": "/games/stickman-hook/index.html", "error": "false" },
            { "name": "Draw the Hill", "icon": "/assets/img/DTH.jpeg", "path": "/games/draw-the-hill/index.html", "error": "false" },
            { "name": "Wordle", "icon": "/assets/img/Wordle.png", "path": "/games/wordle/index.html", "error": "false" },
            { "name": "Ballistic Chicken", "icon": "/assets/img/BC.jpeg", "path": "/games/ballistic-chickens/index.html", "error": "false" },
            { "name": "Paper Io 2", "icon": "/assets/img/pi2.jpeg", "path": "./games/paperio2", "error": "false" },
            { "name": "geometry dash", "icon": "./assets/img/IMG_2436.jpeg", "path": "/games/geodash/geodash/index.html", "error": "false" },
            { "name": "pixel gun survival", "icon": "./assets/img/IMG_2438.jpeg", "path": "/games/pixel-gun-survival/pixel-gun-survival", "error": "false" },
            { "name": "idle shark", "icon": "./assets/img/IMG_2449.jpeg", "path": "/games/idle-shark/idle-shark", "error": "false" },
            { "name": "Block Blast", "icon": "./assets/img/IMG_2459.jpeg", "path": "./games/BlockBlast/index.html", "error": "false" },
            { "name": "Angry Sharks", "icon": "./games/angry-sharks/assets/favicon/icon-512x512.png", "path": "./games/angry-sharks/index.html", "error": "false" },
            { "name": "Basketball Random", "icon": "./games/basket-random/splash.jpeg", "path": "./games/basket-random/index.html", "error": "false" },
            { "name": "Basketball Cannon", "icon": "./games/cannon-basketball-4/img/splash.png", "path": "./games/cannon-basketball-4/index.html", "error": "false" },
            { "name": "Basketball Game", "icon": "./games/basketball-game/splash.png", "path": "./games/basketball-game/index.html", "error": "false" }
        ];

        const games = game.filter(game => !game.link).map(game => ({
            name: game.name,
            icon: game.icon,
            path: game.path,
            error: game.error
        }));

        const gameContainer = document.getElementById('gameContainer');
        const lastPlayedContainer = document.getElementById('lastPlayedContainer');

        function loadLastPlayedGames() {
            const lastPlayed = JSON.parse(localStorage.getItem('@proton/ls')) || [];
            lastPlayed.forEach(({ icon, path, name }) => {
                const gameCard = createGameCard(icon, path, name);
                lastPlayedContainer.appendChild(gameCard);
            });
        }

        function createGameCard(icon, path, name) {
            const gameCard = document.createElement('div');
            gameCard.className = 'game-card';
            gameCard.innerHTML = `
                <img src="${icon}" alt="${name}" class="game-icon">
                <div class="game-name">${name}</div>
            `;
            gameCard.onclick = () => {
                window.location.href = path;
                localStorage.setItem('@proton/ls', JSON.stringify([{ icon, path, name }]));
            };
            return gameCard;
        }

        function createAllGameCards() {
            games.forEach(game => {
                const gameCard = document.createElement('div');
                gameCard.className = 'game-card';
                gameCard.innerHTML = `
                    <img src="${game.icon}" alt="${game.name}" class="game-icon">
                    <div class="game-name">${game.name}</div>
                `;
                gameCard.onclick = () => {
                    const error = game.error;
                    if (error === "false") {
                        localStorage.setItem('@proton/ls', JSON.stringify([{ icon: game.icon, path: game.path, name: game.name }]));
                        window.location.href = "./fullscreen.html";
                    } else {
                        console.error('Error loading game');
                    }
                };
                gameContainer.appendChild(gameCard);
            });
        }

        loadLastPlayedGames();
        createAllGameCards();
    </script>
</body>
</html>
